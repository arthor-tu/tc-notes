# 2023-07-26 面试复盘

## 1. Vu2、Vu3之间的区别

## 2. js原型链

- 我：没答上来
- 面试官：你没有专门完整地学js吗
- 我：没有（前端半路出家的苦，虽然，如果要在这行深耕，也确实需要系统完整地学习一下）

**回顾：**

## 3. 你知道的排序算法有哪些

- 我：知道的有冒泡、快排、二分法这些（还有选择排序，二分法应该说归并排序比较好）

- 面试官：简单说一下实现原理和时间复杂度
- 我：冒泡是与相邻值比对、交换；快排是选择一个值，比这个值小的放左边，比这个值大的放右边，再按同样地操作排序左右两个子数组；二分法是将一个数组先对半分成两个子数组，依次操作，直至最后只剩两个/一个值，子段内进行排序好，再合并相邻数组并排序，有点类似与树地结构。

**回顾**

- 几个算法地实现过程描述有点混乱

## 4. 你知道的数据结构有哪些，除了二叉树

- 我：还有链表、图、有向图、无向图这些

## 5. 在公司的主要工作内容？

## 6. 介绍一下你负责的BaaS平台，以及你在里面承担的角色

## 7. 你说调研同行业产品，是调研哪些以及怎样调研的？

## 8. 前序、中序、后续遍历

**回顾**

- 笔试题，面试的时候遍历顺序弄错了。
- 前序遍历：中左右
- 中序遍历：左中右
- 后序遍历：左右中
- 记忆方式：1. 前中后的意思是当前节点的遍历顺序是在前面、中间还是后面；2. 永远都是先左后右

## 9. 这段时间你有学习什么新技术吗，侧重点在哪些地方？

- 我：有在使用react学习和开发个人技术博客；Vue3的话在写一些自己的小项目做一些实验和学习。未来的话，可能视工作需求，如果工作主要使用的技术栈是Vue，未来还是会侧重去学习Vue3及相关生态。

回顾

- 可以再加上node.js

## 10. 说一下前端的性能优化

- 我：页面性能优化主要在两个方面吧，一个是页面加载性能，一个是页面渲染性能。页面加载性能的优化，首先在

## 11. 重绘和重排

- 我：重绘是在dom属性更新时，对视图进行重绘；重排的话了解不多，是跟页面文本流相关吗。

## 12. 说下你对虚拟dom的理解

- 我：...
- 面试官：为什么要引入虚拟dom这个机制？

以下为第二场

## 1. mqtt是什么，可以介绍下吗？

- 答：mqtt是使用WebSocket实现的消息同步工具，有点类似于聊天室的即时通信，也就是当其它用户发送了跟当前用户有关的消息之后，后端会将这个消息转发给当前用户，当前用户页面接收到这个信息之后，再进行相应的处理。
- 面试官：(WebSocket)断连了之后如何处理
- 答：判断用户是在线还是下线，可以使用心跳包机制实现。

## 2. Vue2和Vue3的区别 (经典问题)
- 答：Vue3在兼容了选项式API的基础上，引入了组合式API(有点类似于react中的hooks)，代码复用性和编程性大大提高，对ts的兼容也更好了。另外Vue3对虚拟dom树的diff算法也进行了一定的优化。在状态管理的监听上，由setter/getter改为了Proxy，在ref中保留了setter/getter, 将Proxy应用在了reactive。
- 面试官：能说说Proxy的实现原理吗
- 我：没答上来...

复盘：
- Vue3中的Proxy表达不清楚，参照[Vue官方文档-深入响应式系统](https://cn.vuejs.org/guide/extras/reactivity-in-depth.html#how-reactivity-works-in-vue)
```
在 JavaScript 中有两种劫持 property 访问的方式：getter / setters 和 Proxies。Vue 2 使用 getter / setters 完全是出于支持旧版本浏览器的限制。而在 Vue 3 中则使用了 Proxy 来创建响应式对象，仅将 getter / setter 用于 ref。 
```

## 3. 你们的组件库都有哪些内容？

- 我：因为部门使用技术栈主要都是Vue，组件库也是Vue框架下的。整个组件库是由部门一个10年前端大佬搭建的，我们只需要负责一些组件的贡献。
- 面试官：组件库都有哪些？（前面没回答清楚）
- 我：组件库大多是公共组件，有些是基于elementUI二次封装的搜索过滤table组件，内部集成了搜索过滤、table、换页，开发时只需要写入数据获取的api接口，便可自动实现搜索、表格渲染、换页等内容。
- 面试官：你贡献了多少组件？
- 我：大概10个左右，
- 面试官：具体有哪些？
- 我：图片查看器、目录树、文件目录等

## 4. 最让你印象深刻的开发内容是什么

- 我：区块链浏览器吧，主要是因为这个项目基本上是我从0构建起来，然后后面逐渐迭代优化的，最开始由于编程经验不足留下了很多坑，开发和使用体验不是很好。
- 面试官：简历里说的url驱动是什么意思，有点抽象
- 我：其实就是页面内容由url传递的信息唯一决定，而不依赖应用内的其它状态值，如用户登录状态这些。这样作可以大大简化前端状态的维护复杂度，也方便用户复制url即可实现相应内容的访问。就比如用户只需要在url中携带交易哈希，即区块链上一笔交易的唯一标识，就可以访问这个交易的所有信息。
- 面试官：不做用户权限控制是否会有数据安全风险
- 我：区块链浏览器不需要用户登录或作权限控制，以实现区块链上数据的透明，各方监督的特性。当然，比如在湘股交链项目里面，由于用户上链的数据非常敏感，就采用了一定的权限控制，从他们官网跳转过来时，在url中携带标识字符，区块链浏览器根据这个标识字符请求他们官网，由他们决定这个用户是否有权限访问相应资源。
- 面试官：你觉得这个项目中最难的一个功能是哪些
- 我：整个区块链浏览器倒没有特别难的功能，基本都是表单或列表的展示，以及部分使用echarts渲染一些图表啥的。最主要还是这个项目是我全程参与并从0搭建起来的，觉得最有意思的是整个构建和优化过程。

**回顾**：
- 展示了一定的owner意识，但在介绍迭代内容的时候没有表达清楚，应该从全局状态管理、全局方法定义、UI规范等方面有针对性地介绍。
- 在介绍区块链的透明性和安全性的时候，可以加上区块链的几个专有名词，可以更准确表达区块链的一些理念。去中心化，分布式、多方参与等。

## 5. 说一下你对Vuex的理解

- 我：Vuex是Vue中配套的一个全局状态管理工具，以实现Vue组件间的通信，主要有state(用于状态管理)、getter(计算状态值并返回)、mutation(非异步行为)、action(异步操作)、module(可以根据业务需求定义和集成不同的模块)

- 面试官：为什么要用Vuex
- 我：在Vue中不使用Vuex，而是用上下文透传也是可以实现父子、孙子组件之间的通信和状态共享，但这样有一些问题，如状态修改源头难以跟踪，兄弟组件通信较麻烦等，而Vuex自带全局属性，可以在Vue应用任何地方使用，轻松实现父子、兄弟、孙子和孙子组件之间的通信，同时Vuex各个属性也规范了各自负责的工作内容，有利于代码维护和理解。Vuex还深度和Vue绑定，可以使用mapGetter等实现视图的绑定和渲染。

## 6. 你说你项目里面使用了Vue-Router，能简要说说它的作用吗？

- 我：它里面定义了path，当浏览器访问对应url中，根据path来访问对应的页面组件。

- 面试官：为什么要用Vue-Router？
- 我：(没答上来)，由于之前Vue应用基本上都是使用的router，倒没怎么想过为什么要用它。（主要也是没接触过不使用Vue-router搭建的复杂应用）

**回顾**

- 对于Vue-Router的描述和作用过于混乱。详见[官方文档](https://router.vuejs.org/zh/introduction.html)。

## 7. 你刚刚说了SPA单页面应用的优点？

我：SPA单页面应用优点在交互性可以做得更复杂、页面内容更丰富，如果追求页面加载性能可以使用服务端渲染SSR、如果是像营销页面等页面内容固定的可以采用生成静态页面SSG.

- 面试官：对于页面加载性能优化，你怎么理解
- 我：首先是可以对js包的大小进行优化，比如代码分割、懒加载、ES6的按需引入等，然后对于依赖资源，如果是变动频率不大的静态资源，可以将其放在CDN中提高加载速度。

- 面试官：其实你刚刚说的优化页面加载性能就是Vue-router的一个作用
- 我：

## 8. 你是怎么实现单点登录的？

- 我：首先这个业务场景是，天河链生态这里有官网和BaaS平台两个需要登录状态的平台，在其中一个平台登录成功后，跳转到另一个平台时也能保持登录状态。具体实现是在登录成功之后，会获取登录成功的token和refresh_token，然后将token储存在cookie中，在进行平台间跳转时，由于两个平台处于同一个域名，另一个平台也可以从cookie中拿到token来获取用户的登录信息。

- 面试官：如果是不同域名，要怎么实现呢？
- 我：可以让后端生成一个token访问令牌，绑定token，在平台跳转的时候携带上这个token访问令牌，另一个平台使用这个token访问令牌来获取token。另外，token访问令牌可以设置为一次性的，在成功请求一次之后便失效，保证数据的安全。
（实际直接在跳转时的url携带token，也是可以实现的，但这样的话，容易url长度超出浏览器限制）

**回顾**

- cookie的域名访问安全控制
