# 20230808面试复盘

## 数组去重

- 面试官：数组去重有哪些方法？
- 我：对于基本数据类型，可以新建一个Set再转化回Array实现去重；如果是复杂对象，则可以自定义一个函数去比对，遍历数组，将唯一的对象元素放进新的数组里面。
- 面试官：像你刚刚说的复杂对象的比对方法，你知道有哪些吗？
- 我：自己写的话，就是递归深度遍历对象的每一个属性以及他们的值，来进行判断他们的值是否相等。
- 面试官：其实还有更方便的方法实现判断的，你知道吗？
- 我：这就不知道了......

## Vue-Router的hash模式和历史模式

- 面试官：你知道Vue-Router有几种模式吗？
- 我：hash模式和history模式
- 面试官：能说下这两种模式有什么异同吗？
- 我：最直观的区别就是hash模式的url会带有#号，将域名和路由区分开；而history模式则没有这个#号，如果要作url解析，可能还要提前配置好部署的域名。

## 单点登录

- 面试官：单点登录有哪些实现方案？
- 我：一个是在单点登录页面登录成功后，将token存在cookie中，在需要登录验证的接口请求时，将cookie带上，进行登录验证；一个是直接将token放在跳转的url中，被跳转的应用保存这个token到localStorage中；还有一个就是登录成功之后，后端返回一个登录的通行令牌，跳转时url中带上这个令牌，应用获取这个令牌后使用这个令牌获取token，完成登录状态的跳转。

## Vue的组件传值

- 面试官：你知道哪些给组件传参的方法？
- 我：父子组件间通过props传值；爷爷孙子辈组件还可以通过provide/inject状态绑定，来实现传值；还有就是通过Vuex来实现全局的状态管理；还有浏览器的localStorage和sessionStorage也可以实现状态共享和传值，不过这种方式对Vue来说会失去响应性，在值被修改后无法之间获取它的值被修改的事件，不过也可以在自定义的setStore方法中拦截并抛出事件，方便其它组件监听该值被修改的事件。
- 面试官：也是有Storage事件可以监听的。
- 我：（有这个吗？）

## Message

- 面试官：有哪些方式可以实现不同标签页面之间的通信？
- 我：我目前接触到的只有postMessage来实现不同标签页面间的通信。
- 面试官：Message可以跨域吗？
- 我：可以的。

## 浏览器缓存

- 面试官：你了解浏览器缓存吗？
- 我：(最开始以为是localStoragy这些)，是指浏览器在http请求获取到结果之后，可以是文件也可以是普通的接口http请求，会将返回结果缓存在浏览器，当下次应用再发起同样请求链接和参数的时候，会直接返回上一次的请求结果，而不会去向服务端请求。
- 面试官：有没有什么办法设置让浏览器不使用缓存机制？
- 我：我用过的axios中用过这个配置，配置好后，可以让所用请求不再有缓存机制，每次请求都向服务端发起真实的http请求。其它倒不怎么了解了。

## 类型判断

- 面试官：你知道有哪些类型判断的方法
- 我：一般 typeof 去判断变量的基本数据类型，比如string、number这些；也可以使用instanceof去判断变量的原型链中的原型。
- 面试官：你知道哪些判断数组的

## 深拷贝与浅拷贝

- 面试官：深拷贝与浅拷贝有那些区别？
- 我：对于变量是数组、对象，浅拷贝是只复制其引用，修改拷贝后的属性值，会导致原来的对象属性值也跟着改变，因为他们是同一个对象的引用；而深拷贝则是对于对象的属性，无论它嵌套多少层，都会重新声明一个新变量并复制他们的值，修改深拷贝的
- 面试官：Object.assign()是深拷贝还是浅拷贝
- 我：Object.assign本身只是合并对象中的属性值，对属性值只是简单的复制，不是深拷贝。

## 性能优化

- 面试官：你有做过什么页面性能优化吗？
- 我：应该就是天河链官网吧，原来时用Vue搭建的，内容少的时候加载速度还可以，但后来东西多了之后，首屏加载速度就下降了；后来是重写了静态的html，来加快首屏的加载速度。
- 面试官：优化结果怎么样？
- 我：优化前页面加载可能要2s才能完成，优化后首屏加载只需要200ms左右。

## webpack

- 面试官：你熟悉webpack吗？
- 我：只是在开发时简单学习了一些接触到的内容，比如devServer去配置http的代理转发；还有package.json文件中script标签去配置服务或build的不同环境的环境变量；还有就是配置plugins引入一些插件。

## 调试工具

- 面试官：有一个button，你点击之后页面很卡顿，你是怎么排查的？
- 我：一般还是循着button这个事件去看这个行为的影响范围吧，看它是否引起了dom的额外操作、http请求等消耗过多的副作用
- 面试官：有用过什么性能测试的工具吗？比如应用内存占用开销等
- 我：没有怎么用过。

回顾：

## 重排与重绘

回顾：这块不熟，答得有点乱就不记录了，直接记录相关知识点。

- 基本概念
  - 重排（重新排列）=> 指元素的位置发生改变的时候浏览器会进行重排
  - 重绘（重新绘制）=> 指元素的基本样式发生改变是发生重绘，比如颜色等

详见[重排和重绘](./前端/重排和重绘.html)

## 笔试题

### 1. Array.map 与 parseInt

- 面试官：说出以下代码的返回结果

```javascript
["1", "2", "3"].map(parseInt);
```

- 我：[1,2,3]
- 面试官：parseInt函数有几个入参
- 我：对的，第一个是字符串，第二个是数字，标识转化为几进制。

回顾：......面试官已经在提醒parseInt的传参了。实际因为parseInt第二个参数是标识几进制，map(parseInt)遍历时第二个参数是元素的序号，导致无法按预想将元素都转化为10进制。

```javascript
["1", "2", "3"].map(parseInt);  // [1, NaN, NaN]
```

知识点：

- 语法：

```javascript
parseInt(string, radix);
```

- 参数
  - string
要被解析的值。如果参数不是一个字符串，则将其转换为字符串 (使用 ToString抽象操作)。字符串开头的空白符将会被忽略。

  - radix_ 可选

从 2 到 36 的整数，表示进制的基数。例如指定 16 表示被解析值是十六进制数。如果超出这个范围，将返回 NaN。**假如指定 0 或未指定，基数将会根据字符串的值进行推算。注意，推算的结果不会永远是默认值 10**！

- 返回值

从给定的字符串中解析出的一个整数。

详见 [parseInt - JavaScript | MDN](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/parseInt)

### 2. 数组的结构重组

原题：
将[
    {
        id: 1, name: "a", parentId: 0
    },
    {
        id: 2, name: "b", parentId: 2
    },
    {
        id: 3, name: "b", parentId: 4
    },
    {
        id: 4, name: "b", parentId: 4
    },
    {
        id: 5, name: "b", parentId: 2
    },
]

转化为[{
        id: 1, name: "a", parentId: 0, children:[...]
    }, ...]的形式。

```javascript
const list = [
    {
        id: 1, name: "a", parentId: 0
    },
    {
        id: 2, name: "b", parentId: 0
    },
    {
        id: 3, name: "b", parentId: 4
    },
    {
        id: 4, name: "b", parentId: 0
    },
    {
        id: 5, name: "b", parentId: 2
    },
    {
        id: 6, name: "b", parentId: 3
    },
]

list.forEach((item) => {
    item.children = []
})

const result = [];
list.forEach((item) => {
    if (item.parentId === 0) {
        result.push(item);
    } else {
        const parent = list.find(p => p.id === item.parentId)
        parent.children.push(item);
    }
})

console.log(JSON.stringify(result))
```

## 个人及项目相关

### 项目中遇到的难题

- 我：

### 离职原因

- 我：主要还是想去一线城市一个比较大的平台，好好积累项目和技术经验，提升自己的竞争力和待遇吧。

### 公司相关

- 面试官：你们公司是专门做区块链的吗？这个还比较少见。
- 我：是的。主要区块链作为一个比较新的技术领域，现在也是被国家列为需要重点突破和培养的技术领域，我们公司主要主要服务客户是政府或国企，让他们不需要详细了解区块链底层或自己去搭建平台，也能完成区块链的项目落地和使用区块链应用；另外我们还有一个运营方向是，我们搭建天河链作为一个公共服务平台，给NFT、数字藏品的商户或品牌提供相关接口服务，让他们只需专注于自己的品牌运营，低门槛的使用区块链相关服务，目前已经接入了400到500家的商户。
